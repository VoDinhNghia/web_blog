<!DOCTYPE html>
<html lang="en">

<head>
    <title>home</title>
    <%- include("./header") %>
</head>

<% if (ModeBG  == 'dark'){%>

    <body background="/images/dark-mode.jpg">
        <%}else{%>

            <body>
                <%}%>

                    <%- include("./menu") %>
                        <div class="container" style="margin-top:70px">
                            <div class="row">
                                <%- include("./study_left") %>
                                    <div class="col-sm-8" id="top_"><br>
                                        <button type="button" class="btn btn-outline-primary float-right w-100" data-toggle="modal" data-target="#addsolution<%= infoProblem[0].ID%>">Add solution for problem</button>
                                        <div class="modal" id="addsolution<%= infoProblem[0].ID%>" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                            <div class="modal-dialog">
                                                <div class="modal-content">
                                                    <form action="/create/solution" method="POST">
                                                        <div class="modal-header">
                                                            <h4 class="modal-title text-primary">Add solution</h4>
                                                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                        </div>
                                                        <div class="modal-body">
                                                            <p>Write solution for problem:
                                                            </p>
                                                            <input type="text" name="id_problem" value="<%= infoProblem[0].ID%>" style="display: none;">
                                                            <textarea class="form-control" name="solution" id="exampleFormControlTextarea1" rows="5" placeholder="Write something here..."></textarea>
                                                        </div>
                                                        <div class="modal-footer">
                                                            <button type="submit" class="btn btn-outline-primary mb-2">Add Solution</button>
                                                            <button type="button" class="btn btn-outline-danger" data-dismiss="modal" aria-label="Close">Close</button>
                                                        </div>
                                                    </form>
                                                </div>
                                            </div>
                                        </div>
                                        <br><br><br>
                                        <p class="text-primary text-center">All solution for problem:
                                            <%= infoProblem[0].ContentProblem%>
                                        </p>
                                        <% if(listAllSolution.length){
                            for (let i = listAllSolution.length - 1; i >= 0; i--){%>
                                            <div class="card">
                                                <div class="card-body">
                                                    <span>
                                    <p class="card-title">
                                        <!-- <%= listAllSolution[i].ContentSolution%> -->
                                        <% var array_content = (listAllSolution[i].ContentSolution).split('\r\n');
                                        for (let m = 0; m < array_content.length; m++){
                                        %>
                                                <p>
                                                    <%= array_content[m] %>
                                                </p>
                                                <%}%>
                                    </p>
                                    <h6 class="card-title float-right" style="font-size: 12px;">
                                        <%= listAllSolution[i].SolutionDate%>
                                    </h6>
                                    </span>
                                                    <a href="/delete/solution/<%= listAllSolution[i].ID%>/<%= infoProblem[0].ID%>" class="btn btn-outline-danger">Delete</a>
                                                </div>
                                            </div>

                                            <%}} else {%>
                                                <p class="text-center">Not found solution.</p>
                                                <%}%>
                                    </div>
                            </div>
                        </div>

                        <%- include("./footer") %>
            </body>

</html>